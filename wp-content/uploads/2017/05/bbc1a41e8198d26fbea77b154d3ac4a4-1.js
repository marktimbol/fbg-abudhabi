/**handles:iwmjs,imapresponsive**/
function iwm_init(){for(var t in iwmparam){var e=iwmparam[t].controls;e&&iwm_zoom(iwmparam[t].id,iwmparam[t].controls_position,iwmparam[t].overlay)}iwmDrawVisualization()}function iwmDrawVisualization(t){if("undefined"!=typeof google.visualization){var e={},r={},a={},i={},n={};for(var s in iwmparam){var o=iwmparam[s].id;if(!t||!iwmMapObj[o]||iwmMapObj[o].div.is(":visible")){var m=document.getElementById("map_canvas_"+o);if(iwmparam[s].region&&m){var p=parseInt(iwmparam[s].usehtml),c=parseInt(iwmparam[s].id),d=iwmparam[s].bgcolor,w=parseInt(iwmparam[s].stroke),u=iwmparam[s].bordercolor,l=iwmparam[s].incolor,h=iwmparam[s].actcolor,g=parseInt(iwmparam[s].width),v=parseInt(iwmparam[s].height),_="1"===iwmparam[s].aspratio,I="true"===iwmparam[s].interactive,b=iwmparam[s].tooltip,y=iwmparam[s].region,f=iwmparam[s].resolution,A=parseInt(iwmparam[s].markersize),j=iwmparam[s].displaymode,x=iwmparam[s].placestxt,Q=iwmparam[s].projection,k=iwmparam[s].magglass,z=parseInt(iwmparam[s].magglasszfactor),M=iwmparam[s].widthselector;x=x.replace(/^\s+|\s+$/g,"");var B=iwmparam[s].action,E=iwmparam[s].custom_action;n[o]=c,a[o]=B,i[o]=E;var S=x.split(";");e[o]=new google.visualization.DataTable,"markers02"!=j&&"text02"!=j||(e[o].addColumn("number","Lat"),e[o].addColumn("number","Long")),e[o].addColumn("string","Country"),e[o].addColumn("number","Value"),e[o].addColumn({type:"string",role:"tooltip",p:{html:!0}});var O=[],N="";r[o]={},dataindex={};for(var F=0;F<S.length-1;F++){var C=S[F].split(","),T=C[1].replace(/&#59/g,";");T=T.replace(/&#44/g,",");var q=C[2].replace(/&#59/g,";");q=q.replace(/&#44/g,",");var L=C[0];if(L=L.replace(/^\s+|\s+$/g,""),dataindex[L]=F,"markers02"!=j&&"text02"!=j){e[o].addRows([[{v:L,f:T},F,q]]);var V=L}else{var W=C[0].replace(/^\s+|\s+$/g,""),D=W.split(" "),H=parseFloat(D[0]),R=parseFloat(D[1]);e[o].addRows([[H,R,T,F,q]]);var V=H}var Z=C[4];r[o][V]=C[3].replace(/&#59/g,";"),r[o][V]=r[o][V].replace(/&#44/g,","),N=N+"'"+Z+"',",O.push(Z)}defmaxvalue=0,S.length-2>0&&(defmaxvalue=S.length-2),"markers02"==j&&(j="markers"),"text02"==j&&(j="text");var K=!1;if(1==p&&(K=!0),M){var $=jQuery(M);$&&$.width()>0&&(g=$.width(),v="")}jQuery("#map_canvas_"+c).attr("data-iwm-zwidth")&&(g=jQuery("#map_canvas_"+c).attr("data-iwm-zwidth"),v=jQuery("#map_canvas_"+c).attr("data-iwm-zheight"));var G={projection:Q,backgroundColor:{fill:d,stroke:u,strokeWidth:w},colorAxis:{minValue:0,maxValue:defmaxvalue,colors:O},legend:"none",backgroundColor:{fill:d,stroke:u,strokeWidth:w},datalessRegionColor:l,displayMode:j,enableRegionInteractivity:I,resolution:f,sizeAxis:{minValue:1,maxValue:1,minSize:A,maxSize:A},region:y,keepAspectRatio:_,width:g,height:v,magnifyingGlass:{enable:k,zoomFactor:z},tooltip:{trigger:b,isHtml:K}},P="map_canvas_"+c;iwmgeocharts[o]=new google.visualization.GeoChart(document.getElementById(P)),"none"!=B&&google.visualization.events.addListener(iwmgeocharts[o],"select",function(t){return function(){var s=iwmgeocharts[t].getSelection();if(1==s.length){var o=s[0].row,m=e[t].getValue(o,0);""!=r[t][m]&&iwm_run_action(m,r[t][m],n[t],a[t],i[t])}}}(o)),iwmdata[o]=e[o],iwmoptions[o]=G,iwmgeocharts[o].draw(iwmdata[o],iwmoptions[o]),iwmMapObj[o]||(iwmMapObj[o]={div:jQuery("#"+P),data:dataindex}),iwmMapObj[o].lastWidth=iwmMapObj[o].div.parent().width(),google.visualization.events.addListener(iwmgeocharts[o],"ready",function(){jQuery(".iwm_map_canvas svg").fadeIn(300),"function"==typeof iwm_callback&&iwm_callback()})}}}}else console.log("API file not loaded yet")}function iwm_run_action(t,e,r,a,i){if("i_map_action_open_url"==a&&(document.location=e),"i_map_action_alert"==a&&alert(e),"i_map_action_open_url_new"==a&&window.open(e),"i_map_action_content_below"==a||"i_map_action_content_above"==a){document.getElementById("imap"+r+"message").innerHTML=e;var n=document.getElementById("imap-dropdown-"+r);n&&(document.getElementById("imap"+r+"-"+t).selected=!0)}if("i_map_action_content_below_scroll"==a||"i_map_action_content_above_scroll"==a){document.getElementById("imap"+r+"message").innerHTML=e,jQuery("html, body").animate({scrollTop:jQuery("#imap"+r+"message").position().top},"slow");var n=document.getElementById("imap-dropdown-"+r);n&&(document.getElementById("imap"+r+"-"+t).selected=!0)}if("i_map_action_colorbox_content"==a&&jQuery.colorbox({html:e,maxWidth:"90%"}),"i_map_action_colorbox_iframe"==a&&jQuery.colorbox({open:!0,href:e,iframe:!0,width:"80%",height:"80%"}),"i_map_action_colorbox_image"==a&&jQuery.colorbox({open:!0,href:e,photo:!0}),"i_map_action_colorbox_inline"==a){var s=jQuery(e);jQuery.colorbox({inline:!0,href:s})}if("i_map_action_custom"==a){var o="iwm_custom_action_"+r;window[o](e)}}function iwm_setSelection(t,e){if(e=e||!1){var r=iwmMapObj[e].data[t];iwmgeocharts[e].setSelection([{row:r,column:null}])}}function iwm_clearSelection(t){t=t||!1,t&&iwmgeocharts[t].setSelection(null)}function iwm_select(t,e){e=e||"0";var r=iwmMapObj[e].data[t];iwmgeocharts[e].setSelection([{row:r,column:null}]),google.visualization.events.trigger(iwmgeocharts[e],"select",{})}function iwm_connect_marker(t,e,r,a,i,n){if(t=t||!1,e=e||!1,r=r||!1,a=a||"#FFFFFF",i=i||"1",n=n||"normal",t&&e&&r&&iwmMapObj[t]){var s=iwmMapObj[t].data[e],o=iwmMapObj[t].data[r],m=document.getElementById("map_canvas_"+t);if(m){var p=null,c=jQuery("#map_canvas_"+t+" circle").length,d=jQuery("#map_canvas_"+t+" text").length;d>0&&(p="text"),c>0&&(p="circle");var w=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,u="undefined"!=typeof InstallTrigger,l=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,h=!!document.documentMode,g=!h&&!!window.StyleMedia,v=!!window.chrome&&!!window.chrome.webstore,_=(v||w)&&!!window.CSS;if((d>10||c>10)&&(w||v))return;var I=m.getElementsByTagName(p)[s],b=m.getElementsByTagName(p)[o];if(I&&b){if("circle"==p)var y=parseInt(I.getAttribute("cx"),10),f=parseInt(I.getAttribute("cy"),10),A=parseInt(b.getAttribute("cx"),10),j=parseInt(b.getAttribute("cy"),10),x=parseInt(b.getAttribute("r"),10);if("text"==p){var y=parseInt(I.getAttribute("x"),10),f=parseInt(I.getAttribute("y"),10),A=parseInt(b.getAttribute("x"),10),j=parseInt(b.getAttribute("y"),10),Q=parseInt(b.getAttribute("font-size"),10),k=I.getBBox(),z=k.width,M=k.height,B=b.getBBox(),E=B.width,S=B.height;mr1=parseInt(M)/2,Q=parseInt(S)/2;var j=parseInt(j,10)-Q,f=parseInt(f,10)-mr1}var O=new String(e+r);if(O=O.replace(/[^a-zA-Z0-9|-]/g,""),"arrow"==n||"dashed-arrow"==n||"curved-arrow"==n||"dashed-curved-arrow"==n){if("circle"==p){x=parseInt(x,10)+4*parseInt(i,10);var N=parseInt(y,10)-parseInt(A,10),F=parseInt(f,10)-parseInt(j,10),C=Math.sqrt(N*N+F*F),A=parseInt(A,10)+parseInt(N,10)*parseInt(x,10)/C,j=parseInt(j,10)+F*parseInt(x,10)/C}if("text"==p){Q=parseInt(Q,10)+4*parseInt(i,10);var T=parseInt(y,10)-parseInt(A,10),q=parseInt(f,10)-parseInt(j,10),L=Math.sqrt(T*T+q*q),A=parseInt(A,10)+parseInt(T,10)*parseInt(Q,10)/L,j=parseInt(j,10)+q*parseInt(Q,10)/L;mr1=parseInt(mr1,10)-5;var V=parseInt(A,10)-parseInt(y,10),W=parseInt(j,10)-parseInt(f,10),D=Math.sqrt(V*V+W*W),y=parseInt(y,10)+parseInt(V,10)*parseInt(mr1,10)/D,f=parseInt(f,10)+W*parseInt(mr1,10)/D}var H=document.createElementNS("http://www.w3.org/2000/svg","marker");H.setAttribute("id","arrow"+O),H.setAttribute("markerWidth","5"),H.setAttribute("markerHeight","5"),H.setAttribute("refX","-2"),H.setAttribute("refY","0"),H.setAttribute("orient","auto"),H.setAttribute("markerUnits","strokeWidth"),H.setAttribute("Box","0 0 10 10"),H.setAttribute("viewBox","-5 -5 10 10");var R=jQuery("#map_canvas_"+t+" svg #defs #arrow"+O);0==R.length&&jQuery("#map_canvas_"+t+" svg #defs").append(H);var Z=document.createElementNS("http://www.w3.org/2000/svg","polygon");Z.setAttribute("points","-2,0 -5,5 5,0 -5,-5"),Z.setAttribute("fill",a),Z.setAttribute("stroke",a),Z.setAttribute("stroke-width","0px"),Z.setAttribute("id","poly"+O);var K=jQuery("#map_canvas_"+t+" svg #poly"+O);0==K.length&&jQuery("#map_canvas_"+t+" svg #arrow"+O).append(Z)}if("curved"==n||"curved-arrow"==n||"dashed-curved"==n||"dashed-curved-arrow"==n){var $=(y+A)/2,G=(f+j)/2,N=(A-y)/2,F=(j-f)/2,P=Math.sqrt(N*N+F*F),U=$+F/P*20,X=G-N/P*20;U||(U=0),X||(X=0);var Y=document.createElementNS("http://www.w3.org/2000/svg","path");Y.setAttribute("id",O),Y.setAttribute("d","M"+y+","+f+" Q"+U+","+X+" "+A+","+j),Y.setAttribute("stroke",a),Y.setAttribute("stroke-width",i),Y.setAttribute("fill","transparent"),"dashed-curved-arrow"!=n&&"dashed-curved"!=n||Y.setAttribute("stroke-dasharray","5,5"),Y.setAttribute("marker-end","url(#arrow"+O+")")}if("dashed"==n||"dashed-arrow"==n||"arrow"==n||"normal"==n){var Y=document.createElementNS("http://www.w3.org/2000/svg","line");Y.setAttribute("id",O),Y.setAttribute("x1",y),Y.setAttribute("y1",f),Y.setAttribute("x2",A),Y.setAttribute("y2",j),Y.setAttribute("stroke",a),Y.setAttribute("stroke-width",i),"dashed"!=n&&"dashed-arrow"!=n||Y.setAttribute("stroke-dasharray","5,5"),"arrow"!=n&&"dashed-arrow"!=n||Y.setAttribute("marker-end","url(#arrow"+O+")")}var J=jQuery("#map_canvas_"+t+" line#"+O);0==J.length&&("circle"==p&&jQuery("#map_canvas_"+t+" svg circle").first().parent().before(Y),(p="text")&&jQuery("#map_canvas_"+t+" svg text").first().parent().before(Y))}}}}function iwm_connect_marker_adv(t,e,r,a,i,n){if(t=t||!1,e=e||!1,r=r||!1,a=a||"#FFFFFF",i=i||"1",n=n||"normal",t&&e&&r&&iwmMapObj[t]){var s=document.getElementById("map_canvas_"+t);if(s){var o=null,m=jQuery("#map_canvas_"+t+" circle"),p=jQuery("#map_canvas_"+t+" text"),c,d=[];p.length>0&&(c=jQuery("#map_canvas_"+t+" g text").sort(function(t,e){return Number(jQuery(t).attr("y"))-Number(jQuery(e).attr("y"))}),c.each(function(t){d[t]=jQuery(this).attr("y")})),m.length>0&&(c=jQuery("#map_canvas_"+t+" g circle").sort(function(t,e){return parseInt(jQuery(t).attr("cy"))-parseInt(jQuery(e).attr("cy"))}),c.each(function(t){d[t]=jQuery(this).attr("cy")}));var w=[],u=0;jQuery.each(iwmMapObj[t].data,function(t,e){cyindex=t.split(" "),w[u]=cyindex[0],u++}),w.sort(iwm_sortNumber).reverse(),relationobj={};for(var l=0;l<w.length;l++)relationobj[w[l]]=d[l];mi01i=e.split(" ")[0],mi01cy=relationobj[mi01i],mi02i=r.split(" ")[0],mi02cy=relationobj[mi02i];var h=!1,g=!1;if(p.length>0&&(o="text",p.each(function(t){jQuery(this).attr("y")==mi01cy&&(h=s.getElementsByTagName(o)[t]),jQuery(this).attr("y")==mi02cy&&(g=s.getElementsByTagName(o)[t])})),m.length>0&&(o="circle",m.each(function(t){jQuery(this).attr("cy")==mi01cy&&(h=s.getElementsByTagName(o)[t]),jQuery(this).attr("cy")==mi02cy&&(g=s.getElementsByTagName(o)[t])})),h&&g){if("circle"==o)var v=parseInt(h.getAttribute("cx"),10),_=parseInt(h.getAttribute("cy"),10),I=parseInt(g.getAttribute("cx"),10),b=parseInt(g.getAttribute("cy"),10),y=parseInt(g.getAttribute("r"),10);if("text"==o){var v=parseInt(h.getAttribute("x"),10),_=parseInt(h.getAttribute("y"),10),I=parseInt(g.getAttribute("x"),10),b=parseInt(g.getAttribute("y"),10),f=parseInt(g.getAttribute("font-size"),10),A=h.getBBox(),j=A.width,x=A.height,Q=g.getBBox(),k=Q.width,z=Q.height;mr1=parseInt(x)/2,f=parseInt(z)/2;var b=parseInt(b,10)-f,_=parseInt(_,10)-mr1}var M=new String(e+r);if(M=M.replace(/[^a-zA-Z0-9|-]/g,""),"arrow"==n||"dashed-arrow"==n||"curved-arrow"==n||"dashed-curved-arrow"==n){if("circle"==o){y=parseInt(y,10)+4*parseInt(i,10);var B=parseInt(v,10)-parseInt(I,10),E=parseInt(_,10)-parseInt(b,10),S=Math.sqrt(B*B+E*E),I=parseInt(I,10)+parseInt(B,10)*parseInt(y,10)/S,b=parseInt(b,10)+E*parseInt(y,10)/S}if("text"==o){f=parseInt(f,10)+4*parseInt(i,10);var O=parseInt(v,10)-parseInt(I,10),N=parseInt(_,10)-parseInt(b,10),F=Math.sqrt(O*O+N*N),I=parseInt(I,10)+parseInt(O,10)*parseInt(f,10)/F,b=parseInt(b,10)+N*parseInt(f,10)/F;mr1=parseInt(mr1,10)-5;var C=parseInt(I,10)-parseInt(v,10),T=parseInt(b,10)-parseInt(_,10),q=Math.sqrt(C*C+T*T),v=parseInt(v,10)+parseInt(C,10)*parseInt(mr1,10)/q,_=parseInt(_,10)+T*parseInt(mr1,10)/q}var L=document.createElementNS("http://www.w3.org/2000/svg","marker");L.setAttribute("id","arrow"+M),L.setAttribute("markerWidth","5"),L.setAttribute("markerHeight","5"),L.setAttribute("refX","-2"),L.setAttribute("refY","0"),L.setAttribute("orient","auto"),L.setAttribute("markerUnits","strokeWidth"),L.setAttribute("Box","0 0 10 10"),L.setAttribute("viewBox","-5 -5 10 10");var V=jQuery("#map_canvas_"+t+" svg #defs #arrow"+M);0==V.length&&jQuery("#map_canvas_"+t+" svg #defs").append(L);var W=document.createElementNS("http://www.w3.org/2000/svg","polygon");W.setAttribute("points","-2,0 -5,5 5,0 -5,-5"),W.setAttribute("fill",a),W.setAttribute("stroke",a),W.setAttribute("stroke-width","0px"),W.setAttribute("id","poly"+M);var D=jQuery("#map_canvas_"+t+" svg #poly"+M);0==D.length&&jQuery("#map_canvas_"+t+" svg #arrow"+M).append(W)}if("curved"==n||"curved-arrow"==n||"dashed-curved"==n||"dashed-curved-arrow"==n){var H=(v+I)/2,R=(_+b)/2,B=(I-v)/2,E=(b-_)/2,Z=Math.sqrt(B*B+E*E),K=H+E/Z*20,$=R-B/Z*20;K||(K=0),$||($=0);var G=document.createElementNS("http://www.w3.org/2000/svg","path");G.setAttribute("id",M),G.setAttribute("d","M"+v+","+_+" Q"+K+","+$+" "+I+","+b),G.setAttribute("stroke",a),G.setAttribute("stroke-width",i),G.setAttribute("fill","transparent"),"dashed-curved-arrow"!=n&&"dashed-curved"!=n||G.setAttribute("stroke-dasharray","5,5"),G.setAttribute("marker-end","url(#arrow"+M+")")}if("dashed"==n||"dashed-arrow"==n||"arrow"==n||"normal"==n){var G=document.createElementNS("http://www.w3.org/2000/svg","line");G.setAttribute("id",M),G.setAttribute("x1",v),G.setAttribute("y1",_),G.setAttribute("x2",I),G.setAttribute("y2",b),G.setAttribute("stroke",a),G.setAttribute("stroke-width",i),"dashed"!=n&&"dashed-arrow"!=n||G.setAttribute("stroke-dasharray","5,5"),"arrow"!=n&&"dashed-arrow"!=n||G.setAttribute("marker-end","url(#arrow"+M+")")}var P=jQuery("#map_canvas_"+t+" line#"+M);0==P.length&&("circle"==o&&jQuery("#map_canvas_"+t+" svg circle").first().parent().before(G),(o="text")&&jQuery("#map_canvas_"+t+" svg text").first().parent().before(G))}}}}function iwm_zoom(t,e,r){var r=r||!1,a=jQuery("#map_canvas_"+t),i;r&&r!=t&&(jQuery("#iwm_map_overlay .iwm_map_canvas").wrapAll('<div style="overflow:hidden;" id="iwm_pan_wrapper_'+t+'" />').wrapAll('<div id="iwm_pan_container_'+t+'" />'),i=jQuery("#iwm_pan_container_"+t),i.wrap('<div id="iwm_control_'+t+'" />'),jQuery("#iwm_control_"+t).prepend('<div data-step="0" id="iwm-controls-'+t+'" class="iwm-controls iwm-controls-'+e+'"></div>'),i.panzoom({disableZoom:!1,contain:"invert",cursor:"default"}),i.mousedown(function(){jQuery(this).css("cursor","move")}),i.mouseup(function(){jQuery(this).css("cursor","pointer")})),r||(a.parent().prepend('<div data-step="0" id="iwm-controls-'+t+'" class="iwm-controls iwm-controls-'+e+'"></div>'),a.panzoom({disableZoom:!0,contain:"invert",cursor:"default"}),a.mousedown(function(){jQuery(this).css("cursor","move")}),a.mouseup(function(){jQuery(this).css("cursor","pointer")})),t!=r&&jQuery("#iwm-controls-"+t).append(function(){return jQuery('<div class="iwm-controls-zoom-in">+</div>').click(function(){if(controlparent=jQuery(this).parent(),cur_click=parseInt(controlparent.attr("data-step")),map=a,parseInt(map.width())<=6e3){controlparent.attr("data-step",cur_click+1);var e=.3*parseInt(map.width()),n=parseInt(map.height())/parseInt(map.width())*(parseInt(map.width())+e),s=parseInt(map.width())+e,o=parseInt(n)-parseInt(map.height()),m=parseInt(s)-parseInt(map.width());if(!r){var p=map.css("transform"),c=p.replace(/[^0-9\-.,]/g,"").split(",");null==c[5]&&(c[5]=0,c[4]=0);var d=parseInt(c[5]),w=parseInt(c[4]),u=d-o/2,l=w-m/2;map.height(n).width(s),map.attr("data-iwm-zwidth",s).attr("data-iwm-zheight",n),map.css("transform","matrix(1, 0, 0, 1,"+l+","+u+")"),iwmoptions[t].width=s,iwmoptions[t].height=n,iwmgeocharts[t].draw(iwmdata[t],iwmoptions[t]),a.panzoom("resetDimensions")}if(r){var p=i.css("transform"),c=p.replace(/[^0-9\-.,]/g,"").split(",");null==c[5]&&(c[5]=0,c[4]=0);var d=parseInt(c[5]),w=parseInt(c[4]),u=d-o/2,l=w-m/2;i.height(n).width(s),i.css("transform","matrix(1, 0, 0, 1,"+l+","+u+")"),iwmoptions[t].width=s,iwmoptions[t].height=n,iwmgeocharts[t].draw(iwmdata[t],iwmoptions[t]),iwmoptions[r].width=s,iwmoptions[r].height=n,iwmgeocharts[r].draw(iwmdata[r],iwmoptions[r]),i.panzoom("resetDimensions")}}})}).append(function(){return jQuery('<div class="iwm-controls-zoom-out">-</div>').click(function(){if(controlparent=jQuery(this).parent(),cur_click=parseInt(controlparent.attr("data-step")),cur_click>0){map=a;var e=10*parseInt(map.width())/13,n=parseInt(map.width())-e,s=e;if(!r)var o=parseInt(map.parent().width()),m=parseInt(map.parent().height());if(r)var o=parseInt(i.parent().width()),m=parseInt(i.parent().height());if(o<=s){newh=parseInt(map.height())/parseInt(map.width())*(parseInt(map.width())-n);var p=parseInt(map.height())-parseInt(newh),c=parseInt(map.width())-parseInt(s);if(r)var d=i.css("transform");if(!r)var d=map.css("transform");var w=d.replace(/[^0-9\-.,]/g,"").split(","),u=parseInt(w[5]),l=parseInt(w[4]),h=u+p/2,g=l+c/2;g>0&&(g=0),h>0&&(h=0);var v=newh-m,v=v-2*v;h<v&&(h=v);var _=s-o,_=_-2*_;g<_&&(g=_),r||(map.height(newh),map.width(s),map.attr("data-iwm-zwidth",s).attr("data-iwm-zheight",newh),map.css("transform","matrix(1, 0, 0, 1,"+g+","+h+")"),iwmoptions[t].width=s,iwmoptions[t].height=newh,iwmgeocharts[t].draw(iwmdata[t],iwmoptions[t]),a.panzoom("resetDimensions"),controlparent.attr("data-step",cur_click-1)),r&&(i.height(newh),i.width(s),i.attr("data-iwm-zwidth",s).attr("data-iwm-zheight",newh),i.css("transform","matrix(1, 0, 0, 1,"+g+","+h+")"),iwmoptions[t].width=s,iwmoptions[t].height=newh,iwmgeocharts[t].draw(iwmdata[t],iwmoptions[t]),iwmoptions[r].width=s,iwmoptions[r].height=newh,iwmgeocharts[r].draw(iwmdata[r],iwmoptions[r]),i.panzoom("resetDimensions"),controlparent.attr("data-step",cur_click-1))}}})})}function iwm_sortNumber(t,e){return t-e}var iwmMapObj=[],iwmgeocharts=[],apiversion=iwmparam[0].apiversion,iwmdata=[],iwmoptions=[],iwmApiKey=iwmparam[0].apikey;google.charts.load("42",{packages:["geochart"],mapsApiKey:iwmApiKey}),google.charts.setOnLoadCallback(iwm_init);var iwm_processed_connections=[];
function iwm_resize(i,n){jQuery.each(i,function(e,t){if("undefined"!=typeof t){var a=t.div.parent();if(a.is(":visible")){var o=a.parent().width();if(o==t.lastWidth)return;iwmdelay(function(){"function"==typeof iwmDrawVisualization&&(a.animate({opacity:0},100,function(){iwmDrawVisualization(!0)}),a.animate({opacity:1},50,function(){}))},200)}else n||setTimeout(function(){iwm_resize(i,!0)},1)}})}var iwmdelay=function(){var i=0;return function(n,e){clearTimeout(i),i=setTimeout(n,e)}}();jQuery(window).on("resize orientationchange",function(){iwm_resize(iwmMapObj)});